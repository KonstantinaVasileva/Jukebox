<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" href="/css/details.css">
<head th:replace="~{common::head}">

</head>
<body th:style="|background-image: url('${band.image}');|">
<header>
</header>

<main class="details-container">
    <section>
        <h2 th:text="'Band: ' + ${band.name}"></h2>
        <p><strong>Formed:</strong> <span th:text="${band.formed}"></span></p>
        <p><strong>Description:</strong> <span th:text="${band.description}"></span></p>
        <p><strong>Genre:</strong> <span th:text="${band.genre.name}"></span></p>
        <p><strong>Albums:</strong>
        <ul th:each="album : ${band.albums}">
            <li>
                <span class="album" onclick="toggleSongs(this)" th:text="${album.title}"></span>
                <ul class="songs" th:each="song : ${album.songs}">
                    <li th:text="${song.title}"></li>
                </ul>
            </li>
        </ul>
    </section>

    <section th:if="${band == null && album == null && song == null}">
        <p>No details available.</p>
    </section>
</main>
<script>
    function toggleSongs(element) {
        // Намираме списъка с песни (следващия елемент след заглавието на албума)
        const songsList = element.nextElementSibling;

        // Превключваме видимостта
        if (songsList.style.display === "none" || songsList.style.display === "") {
            songsList.style.display = "block"; // Показваме песните
        } else {
            songsList.style.display = "none"; // Скриваме песните
        }
    }
</script>
</body>
</html>
