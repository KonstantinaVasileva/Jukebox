<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" href="/css/details.css">
<head th:replace="~{common::head}">

</head>
<body th:style="|background-image: url('${band.image}');|">
<header>
</header>

<main class="details-container">
    <section>
        <h2 th:text="'Band: ' + ${band.name}"></h2>
        <p><strong>Formed:</strong> <span th:text="${band.formed}"></span></p>
        <p><strong>Description:</strong> <span th:text="${band.description}"></span></p>
        <p><strong>Genre:</strong> <span th:text="${band.genre.name}"></span></p>
        <p><strong>Albums:</strong>
        <ul th:each="album : ${band.albums}">
            <li>
                <span class="album" onclick="toggleSongs(this)" th:text="${album.title}"></span>
                <ul class="songs">
                    <li th:each="song : ${album.songs}" th:text="${song.title}"></li>
                </ul>
            </li>
        </ul>
        <div class="comment">
        <button type="button">
            <a th:href="@{/comments/{id}(id=${band.id})}">Comments</a>
        </button>
        </div>
    </section>

<!--    <section th:if="${band == null && album == null && song == null}">-->
<!--        <p>No details available.</p>-->
<!--    </section>-->
</main>
<script>
    function toggleSongs(element) {

        const songsList = element.nextElementSibling;

        if (songsList.style.display === "none" || songsList.style.display === "") {
            songsList.style.display = "block";
        } else {
            songsList.style.display = "none";
        }
    }
</script>
</body>
</html>
