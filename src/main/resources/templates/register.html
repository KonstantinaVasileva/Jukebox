<!doctype html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<link href="/css/login.css" rel="stylesheet"/>
<head th:replace="~{fragments/common::head}">
</head>
<body>
<div th:replace="~{fragments/common::header}"></div>
<form class="register font-weight-bold"
      th:action="@{/register}" th:method="post" th:object="${registerUserRequest}">
    <div class="container">
        <h1 class="register-title">Register</h1>
        <p class="register-title">Please fill in this form to create an account.</p>
        <label th:for="username"><b>Username</b></label>
        <input
                th:field="*{username}"
                class="form-control"
                type="text"
                placeholder="Enter Username"
                name="username"
                id="username"
                required>
        <div>
        <span class="alert-danger"
              th:if="${#fields.hasErrors('username')}"
              th:errors="*{username}"></span>
            <span class="alert-danger"
                  th:text="${userAlreadyExistsException}"></span>
        </div>

        <label th:for="email"><b>Email</b></label>
        <input
                th:field="*{email}"
                th:errorclass="'is-invalid'"
                class="form-control"
                type="email"
                placeholder="Enter Email"
                name="email"
                id="email"
                required>

        <label th:for="password"><b>Password</b></label>
        <input
                th:field="*{password}"
                th:errorclass="'is-invalid'"
                class="form-control"
                type="password"
                placeholder="Enter Password"
                name="password"
                id="password"
                required>
        <small class="alert-danger"
               th:if="${#fields.hasErrors('password')}"
               th:errors="*{password}"></small>

        <label th:for="psw-repeat"><b>Repeat Password</b></label>
        <input
                th:field="*{repeatPassword}"
                th:errorclass="'is-invalid'"
                class="form-control"
                type="password"
                placeholder="Repeat Password"
                name="psw-repeat"
                id="psw-repeat"
                required>
        <small class="alert-danger"
               th:if="${#fields.hasErrors('repeatPassword')}"
               th:errors="*{repeatPassword}"></small>

        <label class="checkbox-container">
            <input type="checkbox" id="agree" onchange="toggleRegisterButton()">
            <p>
                By creating an account you agree to our
                <a th:href="@{/register/terms-and-privacy}" style="color:dodgerblue" th:text="'Terms & Conditions'"></a>.
            </p>
        </label>
        <div class="buttons">
            <button type="submit">Register</button>
            <button type="button" class="cancelbtn">
                <a th:href="@{/}">Cancel</a></button>
        </div>
        <script src="/js/register.js"></script>

    </div>
</form>
</body>
</html>